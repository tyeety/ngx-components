{"version":3,"file":"ngx-tcarousel.mjs","sources":["../../../projects/ngx-tcarousel/src/carousel/carousel.component.ts","../../../projects/ngx-tcarousel/src/carousel/carousel.component.html","../../../projects/ngx-tcarousel/src/ngx-tcarousel.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, ElementRef, Input, OnChanges, ViewChild, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-tcarousel',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  templateUrl: './carousel.component.html',\r\n  styleUrl: './carousel.component.scss',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NgxTCarouselComponent implements OnChanges {\r\n  @Input('itemsPerPage') itemsPerPage: number = 1;\r\n  @Input('interval') interval: number = 0;\r\n  @Input('gap') gap: number = 0;\r\n  @Input('itemCount') itemCount: number = 0;\r\n  @Input('freezePeriod') freezePeriod: number = 5000;\r\n  @Input('showHandles') showHandles: boolean = false;\r\n  @Input('mainColor') mainColor: string = '#C7A867';\r\n  @Input('secondColor') secondColor: string = 'black';\r\n\r\n  @ViewChild('itemsElement') itemsElement?: ElementRef;\r\n\r\n  timer = false;\r\n  currentItem = 0;\r\n  items: number[] = [];\r\n\r\n  ngOnChanges() {\r\n    this.items = [...Array(this.itemCount).keys()];\r\n    this.autoMove();\r\n  }\r\n\r\n  sp: any | null = null;\r\n  scrolProduct(n: number, freez: boolean = true) {\r\n    //clear scrolProduct\r\n    if (this.sp) {\r\n      clearTimeout(this.sp);\r\n      this.sp = null;\r\n    }\r\n    //clear autoMove\r\n    if (this.mv) {\r\n      clearTimeout(this.mv);\r\n      this.mv = null;\r\n    }\r\n\r\n    if (n * this.itemsPerPage >= this.itemCount) {\r\n      n = 0;\r\n    } else if (n < 0) {\r\n      n = this.itemCount - 1;\r\n    }\r\n\r\n    if (this.itemsElement && this.itemsElement.nativeElement.children) {\r\n      let container = this.itemsElement.nativeElement;\r\n      let dir = getComputedStyle(container).direction;\r\n      container.scrollLeft = (dir === 'rtl' ? -1 : 1) * n * container.offsetWidth;\r\n    }\r\n\r\n    this.currentItem = n;\r\n    this.timer = false;\r\n    if (freez) {\r\n      this.sp = setTimeout(() => { this.autoMove(); }, this.freezePeriod);\r\n    } else {\r\n      this.autoMove();\r\n    }\r\n  }\r\n\r\n  mv: any | null = null;\r\n  autoMove() {\r\n    //clear autoMove\r\n    if (this.mv) {\r\n      clearTimeout(this.mv);\r\n      this.mv = null;\r\n    }\r\n    this.timer = false;\r\n    if (this.interval > 0) {\r\n      setTimeout(() => {\r\n        this.mv = setTimeout(() => {\r\n          this.scrolProduct(this.currentItem + 1, false);\r\n        }, this.interval);\r\n        this.timer = !!this.interval;\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  btnBack() {\r\n    this.scrolProduct(this.currentItem - 1, false);\r\n  }\r\n\r\n  btnNext() {\r\n    this.scrolProduct(this.currentItem + 1, false);\r\n  }\r\n}\r\n","<ng-container *ngIf=\"itemsPerPage > 0\">\r\n  <div class=\"hidescroll items\" [style.--gap]=\"gap + 'px'\" #itemsElement>\r\n    <ng-content></ng-content>\r\n  </div>\r\n\r\n  <div class=\"d\" [style.--mainColor]=\"mainColor\" [style.--secondcolor]=\"secondColor\">\r\n\r\n    <button type=\"button\" class=\"nav prev\" (click)=\"btnBack()\">\r\n      <svg [attr.fill]=\"secondColor\" class=\"flip\" width=\"45\" height=\"45\" viewBox=\"0 -960 960 960\">\r\n        <path d=\"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z\" />\r\n      </svg>\r\n    </button>\r\n\r\n    <div class=\"carousel\">\r\n\r\n      <div class=\"indicators\">\r\n        <ng-container *ngFor=\"let p of items; let i = index\">\r\n          <button *ngIf=\"i % itemsPerPage === 0\" [attr.index]=\"i / itemsPerPage\" (click)=\"scrolProduct(i / itemsPerPage)\" type=\"button\" class=\"indicator\" [class.active]=\"currentItem === i / itemsPerPage\"></button>\r\n        </ng-container>\r\n      </div>\r\n      <div *ngIf=\"!!interval\" class=\"timer\" [class.full]=\"timer\" [style.--interval]=\"interval + 'ms'\"></div>\r\n\r\n    </div>\r\n\r\n    <button type=\"button\" class=\"nav next\" (click)=\"btnNext()\">\r\n      <svg [attr.fill]=\"secondColor\" class=\"flip\" width=\"45\" height=\"45\" viewBox=\"0 -960 960 960\">\r\n        <path d=\"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z\" />\r\n      </svg>\r\n    </button>\r\n\r\n  </div>\r\n</ng-container>\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}